<!--
    28. Create an HTML page with a paragraph, a form with text input (with minlength set to 8) and
    a submit button. Now do the following.
    * Set up an event handler that shows an alert dialog with text of the paragraph when it is clicked
    * Set up an event handler that turns the background color of the input to lightgreen when the
    number of characters within the input is 8 or more (this happens as the user types)
    * Set up an event handler that prevents form submission when the submit button is clicked. It
    then checks to see if number of characters within the input is at least 8. If so, it submits the
    forms. Else, an appropriate error message is displayed below the input.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .error-message{
            color: crimson;
        }
    </style>
</head>
<body>
    <p id="p-1">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ullam dolorem laboriosam, cumque fuga iusto architecto placeat quod totam eum, aperiam cupiditate doloremque deleniti quasi nemo unde? In, incidunt quisquam! Neque?</p>

    <form id="meetings-form" novalidate>
    <label for="text-input">Input:</label>
    <input type="text" minlength="8" id='text-input' value="" aria-describedby="text-input-help">
    <div id="text-input-help">Input should have atleast 8 characters</div>
    <div class="error-message" id="input-error-message"></div>
    <button type="submit" id="btn-submit">Submit</button>
    </form>

    <script>

        function displayError(selector, message){
            document.querySelector(selector).innerHTML= message;
        }
     
     const p1El= document.querySelector('#p-1');
     const inputEl= document.querySelector('#text-input');
     p1El.addEventListener('click', function(){
          alert(p1El.innerText);
     });
    
     console.log(inputEl.value);
     inputEl.addEventListener('input', function(){
        if(inputEl.value.length>=8){
         inputEl.style.backgroundColor= 'lightgreen';
     }
     });

     document.querySelector('#meetings-form').addEventListener('submit',function(event){
        if(inputEl.value.length<8){
            console.log(inputEl.value.length);
            event.preventDefault(); 
            displayError('#input-error-message','Input should be atleast 8 characters');
        }
     });
   


    </script>

   
</body>
</html>